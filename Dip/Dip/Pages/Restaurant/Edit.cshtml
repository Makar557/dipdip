@page
@model Dip.Pages.Restaurant.EditModel
@{
    ViewData["Title"] = "Редактировать ресторан";
}
<head>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<div class="container mt-5">
    <h2 class="text-center mb-4">Редактировать ресторан</h2>

    <form method="post" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="Название" class="form-label">Название ресторана</label>
            <input type="text" class="form-control" id="Название" asp-for="Ресторан.Название" required>
        </div>

        <div class="mb-3">
            <label for="Описание" class="form-label">Описание</label>
            <textarea class="form-control" id="Описание" asp-for="Ресторан.Описание" rows="3"></textarea>
        </div>

        <div class="mb-3">
            <label for="Адрес" class="form-label">Адрес</label>
            <input type="text" class="form-control" id="Адрес" asp-for="Ресторан.Адрес" required>
        </div>

        <div class="mb-3">
            <label for="Телефон" class="form-label">Телефон</label>
            <input type="text" class="form-control" id="Телефон" asp-for="Ресторан.Телефон" required>
        </div>

        <div class="mb-3">
            <label for="НачалоРаботы" class="form-label">Начало работы</label>
            <input type="time" class="form-control" id="НачалоРаботы" asp-for="Ресторан.НачалоРаботы" required>
        </div>

        <div class="mb-3">
            <label for="КоличествоЧасовВДень" class="form-label">Количество часов в день</label>
            <input type="number" class="form-control" id="КоличествоЧасовВДень" asp-for="Ресторан.КоличествоЧасовВДень" min="1" max="24" required>
        </div>

        <div class="mb-3">
            <label for="Логотип" class="form-label">Логотип ресторана</label>
            <input type="file" class="form-control" id="Логотип" asp-for="ЗагруженныйЛоготип" accept="image/*" onchange="previewImage(event)">

            <div class="mt-3">
                <img id="логотипPreview" src="@Model.Ресторан.Логотип" alt="Текущий логотип" class="img-thumbnail" style="max-width: 200px; display: @(string.IsNullOrEmpty(Model.Ресторан.Логотип) ? "none" : "block");">
            </div>
        </div>

        <button type="submit" class="btn btn-primary w-100">Сохранить изменения</button>
    </form>

    <div class="mt-3 text-center">
        <button class="btn btn-secondary" onclick="window.history.back()">Назад</button>
    </div>
</div>

<script>
    function previewImage(event) {
        const reader = new FileReader();
        reader.onload = function () {
            const preview = document.getElementById("логотипPreview");
            preview.src = reader.result;
            preview.style.display = "block"; 
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>